<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Arch 虚拟机安装小结 | Emptope 的小屋</title><meta name="author" content="Emptope"><meta name="copyright" content="Emptope"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#282A36"><meta name="description" content="VMware 安装 ArchLinux 的流程以及遇到的一些坑">
<meta property="og:type" content="article">
<meta property="og:title" content="Arch 虚拟机安装小结">
<meta property="og:url" content="https://emptope.github.io/2025/08/19/Arch-%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%AE%89%E8%A3%85%E5%B0%8F%E7%BB%93/index.html">
<meta property="og:site_name" content="Emptope 的小屋">
<meta property="og:description" content="VMware 安装 ArchLinux 的流程以及遇到的一些坑">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://emptope.github.io/img/avatar.webp">
<meta property="article:published_time" content="2025-08-19T09:12:48.000Z">
<meta property="article:modified_time" content="2025-08-21T13:40:55.588Z">
<meta property="article:author" content="Emptope">
<meta property="article:tag" content="Linux">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://emptope.github.io/img/avatar.webp"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Arch 虚拟机安装小结",
  "url": "https://emptope.github.io/2025/08/19/Arch-%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%AE%89%E8%A3%85%E5%B0%8F%E7%BB%93/",
  "image": "https://emptope.github.io/img/avatar.webp",
  "datePublished": "2025-08-19T09:12:48.000Z",
  "dateModified": "2025-08-21T13:40:55.588Z",
  "author": [
    {
      "@type": "Person",
      "name": "Emptope",
      "url": "https://emptope.github.io"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.webp"><link rel="canonical" href="https://emptope.github.io/2025/08/19/Arch-%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%AE%89%E8%A3%85%E5%B0%8F%E7%BB%93/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#6272A4')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#282A36')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":true},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: true,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: false,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Arch 虚拟机安装小结',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/css/styles.css"><link rel="stylesheet" href="/css/modify.css"><meta name="generator" content="Hexo 7.3.0"></head><body><div id="web_bg" style="background-image: url(/img/background.webp);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/avatar.webp" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">2</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">2</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/links/"><i class="fa-fw fas fa-link"></i><span> Links</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Emptope 的小屋</span></a><a class="nav-page-title" href="/"><span class="site-name">Arch 虚拟机安装小结</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  返回首页</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/links/"><i class="fa-fw fas fa-link"></i><span> Links</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">Arch 虚拟机安装小结</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-08-19T09:12:48.000Z" title="发表于 2025-08-19 17:12:48">2025-08-19</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-08-21T13:40:55.588Z" title="更新于 2025-08-21 21:40:55">2025-08-21</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><div class="top-img" style="background-image:url(/null);"></div><article class="container post-content" id="article-container"><p>暑假闲来无事整了台 Arch 虚拟机玩玩，刚好记录一下安装的流程以及可能出现的问题。安装步骤力求简单直接，即省略了大部分可有可无的步骤，只保留必要步骤。</p>
<blockquote>
<p>注：在安装 Arch 前，请确保您有基础的 Linux 使用经验和知识，并且熟悉命令行操作。</p>
</blockquote>
<p>物理机配置如下：</p>
<ul>
<li>宿主机 Windows 11 专业版 24H2</li>
<li>使用 VMware Workstation 17 Pro</li>
<li>虚拟机 iso 为 archlinux-2025.07.01-x86_64</li>
<li>CPU 为 Intel® Core™ Ultra 9 185H (22) @ 5.10 GHz</li>
<li>GPU 为 NVIDIA GeForce RTX 4060 Laptop GPU</li>
</ul>
<h2 id="VMware-虚拟机创建流程">VMware 虚拟机创建流程</h2>
<p>在 VMware 新建一台虚拟机 &gt; 选择自定义（高级）&gt; 使用 iso 安装 &gt; 内核版本选择其他 Linux 6.x 内核 64 位 &gt; 处理器数量和内存根据物理机配置而定 &gt; 网络使用 NAT 连接 &gt; SCSI 选择 LSI Logic &gt; 虚拟磁盘类型根据物理机的磁盘类型选择，固态硬盘（SSD）选择 NVMe，其他硬盘优先选择 SCSI &gt; 选择创建新虚拟磁盘（即 .vmdk） &gt; 根据物理机的磁盘空间大小选择虚拟磁盘大小，选择将虚拟磁盘存储为单个文件（可提高磁盘读写性能） &gt; 接着完成虚拟机创建。</p>
<blockquote>
<p>注：一般建议将虚拟机的处理器内核总数设置为物理机线程数的一半，如果物理机线程较多，可以按将虚拟机的处理器内核总数设置为物理机线程数的 2/3 左右，这样可以让虚拟机有更好的性能。</p>
</blockquote>
<blockquote>
<p>注：对于 I/O 控制器类型，ChatGPT 给出的建议是：通用/兼容性优先：选 LSI Logic，模拟 LSI Logic Parallel (并行 SCSI 控制器)；新系统 + 大容量磁盘（&gt; 2TB）：选 LSI Logic SAS，模拟串行连接 SCSI (Serial Attached SCSI, SAS) 控制器；高性能需求（数据库/IO密集型）：选准虚拟化 SCSI (PVSCSI)，这是 VMware 自己的 paravirtualized SCSI 控制器；非常老的操作系统：才考虑 BusLogic。</p>
</blockquote>
<h2 id="安装前的准备">安装前的准备</h2>
<p>在新创建的虚拟机窗口，打开 <code>编辑虚拟机设置</code>，选择 <code>处理器</code>，勾选 <code>虚拟化 Intel VT-x/EPT 或 AMD-V/RVI</code> 和 <code>虚拟化 IOMMU</code>，选择 <code>显示</code>，勾选 <code>加速 3D 图形</code>，将图形内存拉满，在 <code>选项</code>中，选择 <code>高级</code>，将 <code>抓取的输入内容</code>调整为 <code>高</code>，将 <code>收集调试信息</code> 调整为 <code>无</code>，并且勾选 <code>禁用内存页面修整</code>。根据需求选择 BIOS 或者 UEFI 启动。</p>
<blockquote>
<p>特别注意：在 <code>固件类型</code> 中，如果选择使用 BIOS 启动，必须使用 MBR 分区表进行磁盘分区，如果选择使用 UEFI 启动，必须使用 GPT 分区表进行磁盘分区，否则会出现系统无法启动的问题，原因是 BIOS 无法识别 GPT 分区表的启动信息，UEFI 无法找到 MBR 分区表的 EFI 系统分区。由于 UEFI + GPT 更为现代，因此大多数情况下都选择使用 UEFI + GPT 安装。</p>
</blockquote>
<blockquote>
<p>特别注意：在使用 VMware 虚拟机前，若要避免出现一些奇怪的问题（如输入卡顿等），请务必确认关闭 Windows 的 Hyper-V 虚拟层，流程如下：</p>
<p>重要提示：这些步骤可能会因 Windows 版本而异。</p>
<ol>
<li>打开控制面板。</li>
<li>依次选择 程序 &gt; 程序和功能。</li>
<li>选择 启用或关闭 Windows 功能。</li>
<li>取消选择 Hyper-V。</li>
<li>重启计算机。</li>
</ol>
</blockquote>
<h2 id="开始安装-Arch">开始安装 Arch</h2>
<blockquote>
<p>可参考 <a target="_blank" rel="noopener" href="https://wiki.archlinuxcn.org/wiki/%E5%AE%89%E8%A3%85%E6%8C%87%E5%8D%97">Arch Linux 的官方安装指南</a>。</p>
</blockquote>
<p>开机，调整窗口大小，按 <code>Ctrl+Alt+Enter</code> 可进入全屏模式，按 <code>Ctrl+Alt</code> 可移出光标聚焦，正常启动显示如下安装画面。</p>
<p><img src="start.png" alt="开始安装 Arch"></p>
<p>OK! 接下来开始安装吧~</p>
<blockquote>
<p>善用 Tab 键可减少错误输入。</p>
</blockquote>
<p>先确认使用 UEFI 模式启动：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ls</span> /sys/firmware/efi/efivars</span><br></pre></td></tr></tbody></table></figure>
<p>如果目录不存在，则是以 BIOS 启动。</p>
<h3 id="联网">联网</h3>
<p>显示可用网络：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ip <span class="built_in">link</span></span><br></pre></td></tr></tbody></table></figure>
<p>选择对应网络名称（这里为 ens33），然后使用 <code>dhcpcd</code>（DHCP Client Daemon）自动获取 ip 地址：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dhcpcd ens33</span><br></pre></td></tr></tbody></table></figure>
<p>然后 <code>ping</code> 一下 <a target="_blank" rel="noopener" href="http://archlinux.org">archlinux.org</a> 看看网络连通性（或者 <a target="_blank" rel="noopener" href="http://baidu.com">baidu.com</a> 也行）：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ping archlinux.org</span><br></pre></td></tr></tbody></table></figure>
<p>一切正常的话如下图：<br>
<img src="connect_to_ethernet.png" alt="联网流程"></p>
<h3 id="磁盘分区、格式化与挂载">磁盘分区、格式化与挂载</h3>
<p>磁盘的使用必须经过：分区、格式化与挂载，分别常用的命令为 <code>gdisk</code>，<code>mkfs</code>，<code>mount</code> 三个命令。</p>
<h4 id="分区">分区</h4>
<p>首先查看磁盘：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsblk</span><br></pre></td></tr></tbody></table></figure>
<p>本记录使用一个 50G 的 NVMe 磁盘作为演示，能看到系统有一个 50G 的 <code>nvme0n1</code> 还没有分区，我们对它进行分区。</p>
<p>GPT 分区表建议使用 <code>gdisk</code> 进行分区，MBR 分区表建议使用 <code>fdisk</code> 进行分区，或者两者都可以使用通用的 <code>parted</code> 进行分区，这里使用 <code>gdisk</code> 进行分区：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gdisk /dev/nvme0n1</span><br></pre></td></tr></tbody></table></figure>
<p>可以使用 <code>?</code> 查看 gdisk 相关命令。</p>
<p><img src="gdisk_start.png" alt="使用 gdisk 开始分区"></p>
<p><a target="_blank" rel="noopener" href="https://wiki.archlinuxcn.org/wiki/%E5%88%86%E5%8C%BA#%E5%B8%83%E5%B1%80%E7%A4%BA%E4%BE%8B">Arch Wiki</a> 建议 EFI 分区至少为 1GB，swap 分区至少为 4GB。虽然现在的磁盘读写性能已经使 swap 没有什么存在的必要了，但是我们依然按照 Arch Wiki 的建议来进行分区。</p>
<p>使用 <code>n</code> 新建一个 EFI 分区，大小为 1GB：</p>
<p><img src="gdisk_efi.png" alt="分配 EFI"></p>
<p>在 Last sector 后使用 +1G 即可分配 1G 容量；<code>ef00</code> 是 EFI 文件系统的代码；使用 <code>p</code> 可以打印当前已存在的分区，确认无误。</p>
<p>使用 <code>n</code> 新建一个 swap 分区，大小为 4GB：</p>
<p><img src="gdisk_swap.png" alt="分配 swap"></p>
<p><code>8200</code> 是 Linux swap 代码。</p>
<p>使用 <code>n</code> 新建一个 Linux 文件系统分区，大小为剩下的所有容量：</p>
<p><img src="gdisk_filesystem.png" alt="分配文件系统"></p>
<p><code>8300</code> 是 Linux filesystem 代码。</p>
<p>按下 <code>w</code> 保存更改并退出 gdisk。</p>
<p>再次使用 <code>lsblk</code> 查看分区情况，确认无误后可进行格式化。</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsblk</span><br></pre></td></tr></tbody></table></figure>
<h4 id="格式化">格式化</h4>
<p>使用 <code>mkfs</code> 进行格式化：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkfs.fat -F32 /dev/nvme0n1p1</span><br><span class="line">mkswap /dev/nvme0n1p2</span><br><span class="line">mkfs.ext4 /dev/nvme0n1p3</span><br></pre></td></tr></tbody></table></figure>
<p>当然你也可以选择自己喜欢的文件系统 (xfs, ext3, …)，这里选择 ext4 作为演示。</p>
<p><img src="format.png" alt="格式化分区"></p>
<h4 id="挂载文件系统">挂载文件系统</h4>
<blockquote>
<p>一般情况下，进行挂载前，最好先确定几件事：</p>
<ul>
<li>单一文件系统不应该被重复挂载在不同的挂载点（目录）中；</li>
<li>单一目录不应该重复挂载多个文件系统；</li>
<li>要作为挂载点的目录，理论上应该都是空目录才行。</li>
</ul>
<p>参考：<a target="_blank" rel="noopener" href="https://linux.vbird.org/linux_basic/centos7/0230filesystem.php#mount">https://linux.vbird.org/linux_basic/centos7/0230filesystem.php#mount</a></p>
</blockquote>
<p>使用 <code>mount</code> 挂载文件系统，使用 <code>swapon</code> 开启 swap：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mount --<span class="built_in">mkdir</span> /dev/nvme0n1p1 /mnt/efi</span><br><span class="line">swapon /dev/nvme0n1p2</span><br><span class="line">mount /dev/nvme0n1p3 /mnt</span><br></pre></td></tr></tbody></table></figure>
<p>使用 <code>lsblk</code> 确认文件系统已经被正确挂载。</p>
<p><img src="mount.png" alt="挂载文件系统"></p>
<blockquote>
<p>注：示例的 /efi 文件夹命名并不遵守 FHS （Filesystem Hierarchy Standard），关于 EFI 文件系统到底是挂载在 /boot/efi 更合理还是挂载在 /efi 更合理，一直有争议，目前尚未解决。</p>
<p>参考：</p>
<ul>
<li>/boot, /boot/efi or /efi: <a target="_blank" rel="noopener" href="https://www.reddit.com/r/archlinux/comments/1f9d40g/efi_partition_boot_bootefi_or_efi/">https://www.reddit.com/r/archlinux/comments/1f9d40g/efi_partition_boot_bootefi_or_efi/</a></li>
<li>FHS: <a target="_blank" rel="noopener" href="https://refspecs.linuxfoundation.org/FHS_3.0/fhs/index.html">https://refspecs.linuxfoundation.org/FHS_3.0/fhs/index.html</a></li>
</ul>
</blockquote>
<p>这是安装 Linux 最重要的步骤之一，请务必确认正确操作！</p>
<h3 id="选择镜像">选择镜像</h3>
<p>使用 iso 自带的 <code>reflector</code> 自动选择最快的镜像：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 备份</span></span><br><span class="line"><span class="built_in">cp</span> /etc/pacman.d/mirrorlist /etc/pacman.d/mirrorlist.backup</span><br><span class="line"><span class="comment"># 选择镜像并保存</span></span><br><span class="line">reflector --verbose --latest 10 --<span class="built_in">sort</span> rate --save /etc/pacman.d/mirrorlist</span><br></pre></td></tr></tbody></table></figure>
<p><img src="reflector.png" alt="选择镜像"></p>
<p>虽然有很多镜像连接失败，但是实测使用 <code>reflector</code> 后下载速度明显提高，如果觉得下载速度太慢可以尝试替换成清华源，或者多试几次。</p>
<h3 id="安装系统和工具">安装系统和工具</h3>
<p>使用 <code>pacstrap</code> 安装系统和工具：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacstrap /mnt base linux linux-firmware net-tools networkmanager openssh vi vim </span><br></pre></td></tr></tbody></table></figure>
<p>安装 <code>vi</code> 是为了使用 <code>visudo</code>。</p>
<h3 id="创建-File-System-Table-fstab">创建 File System Table (fstab)</h3>
<blockquote>
<p>系统挂载的一些限制：</p>
<ul>
<li>根目录 / 是必须挂载的，而且一定要先于其他 mount point 被挂载进来；</li>
<li>其他 mount point 必须为已建立的目录，可任意指定，但一定要遵守必须的系统目录架构原则 (FHS) ；</li>
<li>所有 mount point 在同一时间内，只能挂载一次；</li>
<li>所有 partition 在同一时间内，只能挂载一次；</li>
<li>如若进行卸载，您必须先将工作目录移到 mount point （及其子目录）之外。</li>
</ul>
<p>参考：</p>
<ul>
<li>fstab: <a target="_blank" rel="noopener" href="https://linux.vbird.org/linux_basic/centos7/0230filesystem.php#fstab">https://linux.vbird.org/linux_basic/centos7/0230filesystem.php#fstab</a></li>
</ul>
</blockquote>
<p>/etc/fstab 就是将我们利用 <code>mount</code> 指令进行挂载时，将所有的选项与参数写入到这个文档中。开机时，操作系统根据这个文件里的记录，自动挂载记录的文件系统到对应目录下。</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">genfstab -U /mnt &gt;&gt; /mnt/etc/fstab</span><br></pre></td></tr></tbody></table></figure>
<p><code>-U</code> 指记录分区的 UUID（Universally Unique IDentifier），因为每块磁盘每个分区的 UUID 是唯一的，因此比较推荐使用 UUID 来记录。</p>
<p>使用以下命令验证 fstab 的正确性：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> /mnt/etc/fstab</span><br></pre></td></tr></tbody></table></figure>
<p>有时候 <code>genfstab</code> 会莫名其妙少掉几个文件系统或者根本不工作，这时候把所有文件系统重新挂载一遍然后再次使用 <code>genfstab</code> 的上述命令，进入 vim 手动删除多余的记录即可。确保根目录 / 最先挂载。</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /mnt/etc/fstab</span><br></pre></td></tr></tbody></table></figure>
<p><img src="edit_fstab.png" alt="使用 vim 手动编辑 fstab"></p>
<blockquote>
<p>注：需要知道如何使用 vim 进行编辑和保存退出。</p>
</blockquote>
<h3 id="Arch-系统配置">Arch 系统配置</h3>
<p>进入新系统：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arch-chroot /mnt</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>注：进入前请再次确认文件系统已被正确挂载。</p>
</blockquote>
<h4 id="设置系统语言">设置系统语言</h4>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/locale.gen</span><br></pre></td></tr></tbody></table></figure>
<p>使用 vim 的搜索功能，找到 en_US.UTF-8 UFT-8 或者 zh_CN.UTF-8 UTF-8 （根据个人喜好），取消注释，这里选择 en_US.UTF-8：</p>
<p><img src="locale-gen.png" alt="设置 locale.gen"></p>
<p>保存退出，生成语言环境。</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">locale-gen</span><br></pre></td></tr></tbody></table></figure>
<p>设置 LANG 变量。</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">"LANG=en_US.UTF-8"</span>  &gt; /etc/locale.conf</span><br></pre></td></tr></tbody></table></figure>
<h4 id="设置时区">设置时区</h4>
<p>创建到上海时区的软连接：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ln</span> -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>注：善用 Tab</p>
</blockquote>
<p>将硬件时钟设置为 UTC：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hwclock --systohc --utc</span><br></pre></td></tr></tbody></table></figure>
<h4 id="设置主机名">设置主机名</h4>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> “<span class="built_in">arch</span>“ &gt; /etc/hostname</span><br></pre></td></tr></tbody></table></figure>
<p><code>arch</code> 可替换成个人喜好的主机名。</p>
<h4 id="设置-root-密码">设置 root 密码</h4>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd</span><br></pre></td></tr></tbody></table></figure>
<h4 id="安装-GRUB-引导程序">安装 GRUB 引导程序</h4>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pacman -S grub efibootmgr</span><br><span class="line">grub-install --efi--directory=/efi</span><br><span class="line">grub-mkconfig -o /boot/grub/grub.cfg</span><br></pre></td></tr></tbody></table></figure>
<h3 id="重新启动">重新启动</h3>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">exit</span></span><br><span class="line">reboot</span><br></pre></td></tr></tbody></table></figure>
<h2 id="成功安装-Arch">成功安装 Arch</h2>
<p>重启后 GRUB 应能正确识别 EFI 并且加载 Arch Linux，使用 root 账户登录后显示如下界面：</p>
<p><img src="success.png" alt="成功安装 Arch Linux"></p>
<h3 id="联网-2">联网</h3>
<p>使用 <code>systemctl</code> 启动 <code>NetworkManager</code>：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">systemctl start NetworkManager</span><br><span class="line">systemctl status NetworkManager</span><br><span class="line">systemctl <span class="built_in">enable</span> NetworkManager</span><br></pre></td></tr></tbody></table></figure>
<p><img src="NetworkManager.png" alt="启动网络"></p>
<h3 id="创建用户">创建用户</h3>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">useradd -mg <span class="built_in">users</span> -G wheel,storage,power -s /bin/bash your_new_user</span><br><span class="line">passwd your_new_user</span><br><span class="line">chage -d 0 your_new_user</span><br></pre></td></tr></tbody></table></figure>
<p><code>your_new_user</code> 可以替换。<br>
<code>chage -d 0</code> 使用户密码过期，以便登录时重置密码，不过虚拟机使用 sddm 登录时出现了一些输入问题，因此此处可选择不执行，或者通过 <code>Ctrl+Alt+F1</code> 等调出 tty 来登录并修改密码。</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pacman -S <span class="built_in">sudo</span></span><br><span class="line">visudo</span><br></pre></td></tr></tbody></table></figure>
<p>找到 <code>%wheel ALL=(ALL:ALL) ALL</code> 取消注释。</p>
<p><img src="wheel.png" alt="取消注释 wheel 群组"></p>
<blockquote>
<p>参考：<a target="_blank" rel="noopener" href="https://linux.vbird.org/linux_basic/centos7/0410accountmanager.php#users">https://linux.vbird.org/linux_basic/centos7/0410accountmanager.php#users</a></p>
</blockquote>
<h3 id="图形界面安装">图形界面安装</h3>
<blockquote>
<p>注：可安装并使用 <code>reflector</code> 提高下载速度，见前文。</p>
</blockquote>
<p>示例安装 KDE Plasma 6 桌面，可根据喜好选择安装其他桌面（GNOME，Xfce，Hyprland…）</p>
<h4 id="安装驱动">安装驱动</h4>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacman -S xf86-video-intel</span><br></pre></td></tr></tbody></table></figure>
<h4 id="安装-Xorg">安装 Xorg</h4>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacman -S xorg</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>注：如果使用 KDE 或 GNOME 桌面，其本身已支持 Wayland，不需要单独安装 Xorg。</p>
<p>参考：<a target="_blank" rel="noopener" href="https://wiki.archlinuxcn.org/wiki/KDE">https://wiki.archlinuxcn.org/wiki/KDE</a></p>
</blockquote>
<h4 id="安装-sddm">安装 sddm</h4>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pacman -S sddm</span><br><span class="line">systemctl <span class="built_in">enable</span> sddm	</span><br></pre></td></tr></tbody></table></figure>
<h4 id="安装-Plasma-桌面">安装 Plasma 桌面</h4>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacman -S plasma konsole</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>注：<code>kde-applications</code> 为 KDE 桌面的全套应用，由于太多用不到，故只安装桌面和终端。</p>
</blockquote>
<h4 id="安装-fcitx5-输入法">安装 fcitx5 输入法</h4>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacman -S fcitx5 fcitx5-configtool fcitx5-chinese-addons fcitx5-qt fcitx5-gtk</span><br></pre></td></tr></tbody></table></figure>
<h4 id="安装文泉驿中文字体">安装文泉驿中文字体</h4>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacman -S wqy-microhei</span><br></pre></td></tr></tbody></table></figure>
<h4 id="重启">重启</h4>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">reboot</span><br></pre></td></tr></tbody></table></figure>
<p>重启后应该正常进入 sddm 界面：</p>
<p><img src="sddm.png" alt="sddm 界面"></p>
<p>输入密码后进入 KDE Plasma 桌面：</p>
<p><img src="kde-plasma.png" alt="KDE Plasma 桌面"></p>
<p><img src="fastfetch.png" alt="虚拟机信息"></p>
<h2 id="安装后的常见问题">安装后的常见问题</h2>
<h3 id="主机共享剪贴板">主机共享剪贴板</h3>
<p>安装 <code>open-vm-tools</code>：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> pacman -S open-vm-tools</span><br></pre></td></tr></tbody></table></figure>
<p>重启，然后就可以用啦~</p>
<h3 id="分辨率">分辨率</h3>
<p>鼠标右键进入 <code>Display Configuration</code>，调整分辨率和缩放，使界面清晰。</p>
<p><img src="resolution.png" alt="Display Configuration"></p>
<h3 id="网络代理">网络代理</h3>
<p>VMware 提供的主机地址为 <code>192.168.245.1</code> ，设置即可。</p>
<h3 id="声音">声音</h3>
<p>找到 konsole，安装 firefox 浏览器：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> pacman -S firefox</span><br></pre></td></tr></tbody></table></figure>
<p>随便打开一个视频，发现虚拟机十分卡顿，并且没有声音：</p>
<p><img src="bad_apple.png" alt="播放 Bad Apple"></p>
<p>解决方案：需要按如下方式编辑 WirePlumber 配置：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p ~/.config/wireplumber/wireplumber.conf.d/</span><br><span class="line"><span class="built_in">cd</span> ~/.config/wireplumber/wireplumber.conf.d</span><br></pre></td></tr></tbody></table></figure>
<p>然后在编辑器中创建 <code>~/.config/wireplumber/wireplumber.conf.d/50-alsa-config.conf</code> 并添加：</p>
<figure class="highlight json"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">monitor.alsa.rules = <span class="punctuation">[</span></span><br><span class="line">  <span class="punctuation">{</span></span><br><span class="line">    matches = <span class="punctuation">[</span></span><br><span class="line">      <span class="punctuation">{</span></span><br><span class="line">        node.name = <span class="string">"~alsa_output.*"</span></span><br><span class="line">      <span class="punctuation">}</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line">    actions = <span class="punctuation">{</span></span><br><span class="line">      update-props = <span class="punctuation">{</span></span><br><span class="line">        api.alsa.period-size   = <span class="number">1024</span></span><br><span class="line">        api.alsa.headroom      = <span class="number">8192</span></span><br><span class="line">      <span class="punctuation">}</span></span><br><span class="line">    <span class="punctuation">}</span></span><br><span class="line">  <span class="punctuation">}</span></span><br><span class="line"><span class="punctuation">]</span></span><br></pre></td></tr></tbody></table></figure>
<p>之后，通过 <code>systemctl --user restart wireplumber pipewire pipewire-pulse</code> 重新启动所有服务。</p>
<blockquote>
<p>参考：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://gitlab.freedesktop.org/pipewire/pipewire/-/wikis/Troubleshooting#stuttering-audio-in-virtual-machine">Pipewire Wiki</a></li>
<li><a target="_blank" rel="noopener" href="https://www.reddit.com/r/Ubuntu/comments/1ga9shh/audio_stuttering_issue_in_ubuntu_2410_virtual/?tl=zh-hans">Ubuntu 24.10 虚拟机在 VMWare Pro 17 上音频卡顿问题，宿主机是 Windows 11</a></li>
</ul>
</blockquote>
<h3 id="找不到主机共享文件夹">找不到主机共享文件夹</h3>
<p>大部分原因是开机后共享文件夹没有自动挂载，导致 /mnt/hgfs 下找不到共享文件夹。</p>
<p>解决方案：将共享文件夹写入 fstab 使其开机自动挂载：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">'.host:/ /mnt/hgfs fuse.vmhgfs-fuse allow_other,defaults 0 0'</span> | <span class="built_in">sudo</span> <span class="built_in">tee</span> -a /etc/fstab</span><br></pre></td></tr></tbody></table></figure>
<p>重启即可。</p>
<p>或者临时挂载：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> mount -t fuse.vmhgfs-fuse .host:/ /mnt/hgfs -o allow_other</span><br></pre></td></tr></tbody></table></figure>
<h3 id="虚拟机总是使用效率核（E-core）">虚拟机总是使用效率核（E-core）</h3>
<p>找到 VMware 的可执行文件或快捷方式，打开属性的 <code>兼容性</code> 选项，勾选 <code>以管理员身份运行此程序</code>，可避免虚拟机不使用 P-core，即性能核。</p>
<h2 id="写在最后">写在最后</h2>
<p>安装 Arch 不仅是个熟悉 Linux 的过程，也是个体力活… Arch 是介于 Ubuntu 这种开箱即用的发行版和 Gentoo 这种全部自己动手配置的发行版之间的一种平衡，说实话对我来说已经够用了。</p>
</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Linux/">Linux</a></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related full-width" href="/2025/01/29/hello/" title="你好!"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">你好!</div></div><div class="info-2"><div class="info-item-1">这是我的的第一篇文章！</div></div></div></a></nav></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#VMware-%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%88%9B%E5%BB%BA%E6%B5%81%E7%A8%8B"><span class="toc-number">1.</span> <span class="toc-text">VMware 虚拟机创建流程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E5%89%8D%E7%9A%84%E5%87%86%E5%A4%87"><span class="toc-number">2.</span> <span class="toc-text">安装前的准备</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%A7%8B%E5%AE%89%E8%A3%85-Arch"><span class="toc-number">3.</span> <span class="toc-text">开始安装 Arch</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%81%94%E7%BD%91"><span class="toc-number">3.1.</span> <span class="toc-text">联网</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA%E3%80%81%E6%A0%BC%E5%BC%8F%E5%8C%96%E4%B8%8E%E6%8C%82%E8%BD%BD"><span class="toc-number">3.2.</span> <span class="toc-text">磁盘分区、格式化与挂载</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E5%8C%BA"><span class="toc-number">3.2.1.</span> <span class="toc-text">分区</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%BC%E5%BC%8F%E5%8C%96"><span class="toc-number">3.2.2.</span> <span class="toc-text">格式化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%82%E8%BD%BD%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F"><span class="toc-number">3.2.3.</span> <span class="toc-text">挂载文件系统</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E9%95%9C%E5%83%8F"><span class="toc-number">3.3.</span> <span class="toc-text">选择镜像</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E7%B3%BB%E7%BB%9F%E5%92%8C%E5%B7%A5%E5%85%B7"><span class="toc-number">3.4.</span> <span class="toc-text">安装系统和工具</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA-File-System-Table-fstab"><span class="toc-number">3.5.</span> <span class="toc-text">创建 File System Table (fstab)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Arch-%E7%B3%BB%E7%BB%9F%E9%85%8D%E7%BD%AE"><span class="toc-number">3.6.</span> <span class="toc-text">Arch 系统配置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E7%B3%BB%E7%BB%9F%E8%AF%AD%E8%A8%80"><span class="toc-number">3.6.1.</span> <span class="toc-text">设置系统语言</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E6%97%B6%E5%8C%BA"><span class="toc-number">3.6.2.</span> <span class="toc-text">设置时区</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E4%B8%BB%E6%9C%BA%E5%90%8D"><span class="toc-number">3.6.3.</span> <span class="toc-text">设置主机名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE-root-%E5%AF%86%E7%A0%81"><span class="toc-number">3.6.4.</span> <span class="toc-text">设置 root 密码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-GRUB-%E5%BC%95%E5%AF%BC%E7%A8%8B%E5%BA%8F"><span class="toc-number">3.6.5.</span> <span class="toc-text">安装 GRUB 引导程序</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%87%8D%E6%96%B0%E5%90%AF%E5%8A%A8"><span class="toc-number">3.7.</span> <span class="toc-text">重新启动</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%88%90%E5%8A%9F%E5%AE%89%E8%A3%85-Arch"><span class="toc-number">4.</span> <span class="toc-text">成功安装 Arch</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%81%94%E7%BD%91-2"><span class="toc-number">4.1.</span> <span class="toc-text">联网</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7"><span class="toc-number">4.2.</span> <span class="toc-text">创建用户</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E5%BD%A2%E7%95%8C%E9%9D%A2%E5%AE%89%E8%A3%85"><span class="toc-number">4.3.</span> <span class="toc-text">图形界面安装</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E9%A9%B1%E5%8A%A8"><span class="toc-number">4.3.1.</span> <span class="toc-text">安装驱动</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-Xorg"><span class="toc-number">4.3.2.</span> <span class="toc-text">安装 Xorg</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-sddm"><span class="toc-number">4.3.3.</span> <span class="toc-text">安装 sddm</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-Plasma-%E6%A1%8C%E9%9D%A2"><span class="toc-number">4.3.4.</span> <span class="toc-text">安装 Plasma 桌面</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-fcitx5-%E8%BE%93%E5%85%A5%E6%B3%95"><span class="toc-number">4.3.5.</span> <span class="toc-text">安装 fcitx5 输入法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E6%96%87%E6%B3%89%E9%A9%BF%E4%B8%AD%E6%96%87%E5%AD%97%E4%BD%93"><span class="toc-number">4.3.6.</span> <span class="toc-text">安装文泉驿中文字体</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%87%8D%E5%90%AF"><span class="toc-number">4.3.7.</span> <span class="toc-text">重启</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E5%90%8E%E7%9A%84%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98"><span class="toc-number">5.</span> <span class="toc-text">安装后的常见问题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E6%9C%BA%E5%85%B1%E4%BA%AB%E5%89%AA%E8%B4%B4%E6%9D%BF"><span class="toc-number">5.1.</span> <span class="toc-text">主机共享剪贴板</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E8%BE%A8%E7%8E%87"><span class="toc-number">5.2.</span> <span class="toc-text">分辨率</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E4%BB%A3%E7%90%86"><span class="toc-number">5.3.</span> <span class="toc-text">网络代理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A3%B0%E9%9F%B3"><span class="toc-number">5.4.</span> <span class="toc-text">声音</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%BE%E4%B8%8D%E5%88%B0%E4%B8%BB%E6%9C%BA%E5%85%B1%E4%BA%AB%E6%96%87%E4%BB%B6%E5%A4%B9"><span class="toc-number">5.5.</span> <span class="toc-text">找不到主机共享文件夹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%80%BB%E6%98%AF%E4%BD%BF%E7%94%A8%E6%95%88%E7%8E%87%E6%A0%B8%EF%BC%88E-core%EF%BC%89"><span class="toc-number">5.6.</span> <span class="toc-text">虚拟机总是使用效率核（E-core）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%99%E5%9C%A8%E6%9C%80%E5%90%8E"><span class="toc-number">6.</span> <span class="toc-text">写在最后</span></a></li></ol></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"></div><div class="footer_custom_text">Copyright © 2025 Emptope | All Rights Reserved.</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog"> </i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>(async () => {
  const showKatex = () => {
    document.querySelectorAll('#article-container .katex').forEach(el => el.classList.add('katex-show'))
  }

  if (!window.katex_js_css) {
    window.katex_js_css = true
    await btf.getCSS('https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css')
    if (false) {
      await btf.getScript('https://cdn.jsdelivr.net/npm/katex/dist/contrib/copy-tex.min.js')
    }
  }

  showKatex()
})()</script></div><script async="" data-pjax="" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search" type="text"></div></div><hr><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>